(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){},18:function(e,t,a){e.exports=a(28)},23:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(6),i=a.n(o),r=(a(23),a(13),a(7)),s=a(2),c=a(15),m=a(16),u=a(1),d=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0],v={currPositions:JSON.parse(localStorage.getItem("currentGamePosition"))||d,allPositions:JSON.parse(localStorage.getItem("allGamePositions"))||[d],win:!1,forbidMove:-1,nextMove:null,allMoves:JSON.parse(localStorage.getItem("allMoves"))||[0],disabled:!1,movesCount:parseInt(localStorage.getItem("movesCount"))||0,level:parseInt(localStorage.getItem("level"))||0,time:parseInt(localStorage.getItem("time"))||0,history:JSON.parse(localStorage.getItem("history"))||[]},E={game:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0,n={0:[1,4],1:[0,2,5],2:[1,3,6],3:[2,7],4:[0,5,8],5:[1,4,6,9],6:[2,5,7,10],7:[3,6,11],8:[4,9,12],9:[5,8,10,13],10:[6,9,11,14],11:[7,10,15],12:[8,13],13:[9,12,14],14:[10,13,15],15:[11,14]},l=t.currPositions.slice(),o=l.indexOf(0),i=t.allMoves.slice(),r=t.allPositions.slice(),s=t.history.slice(),c=t.movesCount,m=function(){return JSON.stringify(d)===JSON.stringify(l)},E=function(e){var t=(JSON.stringify(r).indexOf(JSON.stringify(l))-1)/40;t<0?(r.push(l),i.push(e)):(r=r.slice(0,t+1),i=i.slice(0,t+1)),localStorage.setItem("allMoves",JSON.stringify(i)),localStorage.setItem("allGamePositions",JSON.stringify(r)),localStorage.setItem("currentGamePosition",JSON.stringify(l)),localStorage.setItem("movesCount",c)},f=function(e){return n[o].indexOf(e)>-1},p=function(e,t){l[o]=e,l[t]=0},y=function(){localStorage.removeItem("currentGamePosition"),localStorage.removeItem("allMoves"),localStorage.removeItem("allGamePositions"),localStorage.removeItem("time"),localStorage.removeItem("movesCount"),localStorage.removeItem("history")};switch(a.type){case"SOLVE_ONE_STEP":var S=a.payload.tile,g=l.indexOf(S);return f(g)?(p(S,g),m=m(),Object(u.a)({},t,{currPositions:l,win:m})):t;case"SHUFFLE_ONE_STEP":var O=t.nextMove,b=l.indexOf(O);return f(b)?(p(O,b),E(O),m=m(),Object(u.a)({},t,{currPositions:l,win:m,allMoves:i,nextMove:null,allPositions:r})):t;case"MOVE_ONE_STEP":var M=a.payload.tile,h=l.indexOf(M);return f(h)?(p(M,h),c+=1,E(M),function(e,t){var a=Math.floor(t/4),n=t%4,l=Math.floor(o/4),i=o%4;s.push("Moved ".concat(e," from ").concat(a,", ").concat(n," to ").concat(l,", ").concat(i)),localStorage.setItem("history",JSON.stringify(s))}(M,h),m=m(),Object(u.a)({},t,{currPositions:l,win:m,allMoves:i,nextMove:null,allPositions:r,movesCount:c,history:s})):t;case"SELECT_RANDOM":var I=n[o],N=l.indexOf(t.forbidMove),P=I.indexOf(N);P>-1&&I.splice(P,1);var T=Math.floor(Math.random()*I.length),k=t.currPositions[I[T]];return Object(u.a)({},t,{forbidMove:k,nextMove:k});case"RESET":return y(),Object(u.a)({},t,{currPositions:d,win:!1,forbidMove:-1,nextMove:null,allMoves:[0],allPositions:[d],movesCount:0,time:0,history:[]});case"WIN":return y(),Object(u.a)({},t,{currPositions:d,win:!0,forbidMove:-1,nextMove:null,allMoves:[0],allPositions:[d]});case"DISABLE":return Object(u.a)({},t,{disabled:a.payload.disable});case"SET_LEVEL":return localStorage.setItem("level",a.payload.level),Object(u.a)({},t,{level:a.payload.level});case"SAVE_TIME":var C=a.payload.time,w=C.indexOf("h"),L=C.indexOf("m"),_=C.indexOf("s"),x=1e3*(3600*parseInt(C.slice(0,w+1))+60*parseInt(C.slice(w+2,L+1))+parseInt(C.slice(L+2,_+1)));return e=x,localStorage.setItem("time",e),Object(u.a)({},t,{time:x});default:return t}}},f=Object(s.createStore)(Object(s.combineReducers)(E),Object(c.composeWithDevTools)(Object(s.applyMiddleware)(m.a))),p=a(17),y=function(e,t){return function(a){var n=function(e){for(var t=0;t<15*(e+1);t++)a({type:"SELECT_RANDOM",payload:{}}),a({type:"SHUFFLE_ONE_STEP",payload:{}})};switch(e){case"MOVE":a({type:"MOVE_ONE_STEP",payload:{tile:t.tile}});break;case"SHUFFLE":a({type:"DISABLE",payload:{disable:!0}}),n(t.level),a({type:"DISABLE",payload:{disable:!1}});break;case"SOLVE":a({type:"DISABLE",payload:{disable:!0}});var l=t.allMoves.slice().reverse(),o=0,i=setInterval(function(){a({type:"SOLVE_ONE_STEP",payload:{tile:l[o]}}),++o>=l.length-1&&(a({type:"WIN",payload:{}}),a({type:"DISABLE",payload:{disable:!1}}),clearInterval(i))},200);break;case"RESTART":a({type:"RESET",payload:{}}),n(t.level);break;case"SET_LEVEL":a({type:"SET_LEVEL",payload:{level:t.level}});break;case"SAVE_TIME":a({type:"SAVE_TIME",payload:{time:t.time}})}}},S=a(5),g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15].map(function(e){return[80*(e%4),80*Math.floor(e/4)]});function O(e){var t=e.handleClick,a=e.action,n=e.disabled;return l.a.createElement("button",{className:a,onClick:t,disabled:n},a)}function b(e){var t=e.handleClick,a=e.level,n=e.style,o=e.id;return l.a.createElement("button",{id:o,className:a,onClick:t,style:n},a)}var M={onGameAction:y},h=Object(r.b)(function(e){return{currPositions:e.game.currPositions,allMoves:e.game.allMoves,disabled:e.game.disabled,movesCount:e.game.movesCount,level:e.game.level,time:e.game.time,win:e.game.win,history:e.game.history}},M)(function(e){var t,a,o,i=e.currPositions,r=e.disabled,s=e.movesCount,c=e.level,m=e.allMoves,u=e.time,d=e.win,v=e.history,E=function(t){e.onGameAction("SET_LEVEL",{level:parseInt(t.target.id)})};return Object(n.useEffect)(function(){e.onGameAction("SAVE_TIME",{time:document.getElementById("timer-value").innerHTML})},[s]),Object(n.useEffect)(function(){d&&(a(),setTimeout(function(){return document.getElementById("stop").click()},100))},[d]),l.a.createElement("div",null,l.a.createElement("h1",{className:"heading"},"15 Puzzle Game"),l.a.createElement("div",{id:"main",className:"container"},l.a.createElement("div",{className:"info"},l.a.createElement("h1",null,"Info"),l.a.createElement("div",{id:"timer",key:u},l.a.createElement("b",null,"Time: "),l.a.createElement(S.a,{initialTime:u,lastUnit:"h"},function(e){var n=e.start,i=e.resume,r=(e.pause,e.stop),s=e.reset;return t=n,a=r,o=s,l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{id:"timer-value"},l.a.createElement(S.a.Hours,null),"h ",l.a.createElement(S.a.Minutes,null),"m ",l.a.createElement(S.a.Seconds,null),"s"),l.a.createElement("button",{id:"stop",onClick:r,style:{display:"none"}}),l.a.createElement("button",{id:"start",onClick:n,style:{display:"none"}}),l.a.createElement("button",{id:"resume",onClick:i,style:{display:"none"}}),l.a.createElement("button",{id:"reset",onClick:i,style:{display:"none"}}))})),l.a.createElement("div",{id:"counts"},l.a.createElement("b",null,"Moves:")," ",e.movesCount),l.a.createElement("div",{id:"win"},d?l.a.createElement("p",null,"Solved!"):"")),l.a.createElement("div",{className:"game-container"},l.a.createElement("div",{className:"game"},i.map(function(t,a){var n=a?"cell":"empty cell",o=Object(p.a)(g[i.indexOf(a)],2),s=o[0],c=o[1];return l.a.createElement("div",{key:a,className:n,onClick:function(){return t=a,void(r||e.onGameAction("MOVE",{tile:t}));var t},style:{transform:"translate(".concat(s,"px,").concat(c,"px)")}},a)}))),l.a.createElement("div",{className:"info"},l.a.createElement("h1",null,"History"),v.map(function(e,t){return l.a.createElement("div",{key:t},e)}))),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"controls"},l.a.createElement(O,{action:"shuffle",handleClick:function(){e.onGameAction("SHUFFLE",{level:c})},disabled:r}),l.a.createElement(O,{action:"solve",handleClick:function(){a(),e.onGameAction("SAVE_TIME",{time:document.getElementById("timer-value").innerHTML}),e.onGameAction("SOLVE",{allMoves:m}),o()},disabled:r}),l.a.createElement(O,{action:"restart",handleClick:function(){o(),e.onGameAction("RESTART",{level:c}),t()},disabled:r}))),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"levels"},["amateur","semi-pro","professional","legendary"].map(function(t,a){return l.a.createElement(b,{level:t,id:a,key:a,handleClick:E,style:{borderColor:e.level===a?"#333":"transparent"}})}))))}),I=function(){return l.a.createElement(r.a,{store:f},l.a.createElement("div",null,l.a.createElement(h,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.da48a3ea.chunk.js.map